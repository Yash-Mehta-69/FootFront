{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-5" style="min-height: 80vh; display: flex; align-items: center; justify-content: center; padding-top: 15vh !important;">
    <div class="glass-panel text-center" style="max-width: 500px; width: 100%; padding: 2rem;">
        <h2 style="font-family: var(--font-heading); margin-bottom: 2rem;">SET NEW PASSWORD</h2>
        
        <form method="post">
            {% csrf_token %}
            {% for field in form %}
            <div class="mb-3 text-start">
                <label class="form-label text-muted-theme" style="font-size: 0.8rem; letter-spacing: 1px;">{{ field.label|upper }}</label>
                {{ field }}
                {% if field.help_text %}
                <div class="form-text" style="font-size: 0.7rem; color: #888;">{{ field.help_text }}</div>
                {% endif %}
                {% for error in field.errors %}
                <div class="text-danger small mt-1">{{ error }}</div>
                {% endfor %}
            </div>
            {% endfor %}
            
            <button type="submit" class="btn-primary mt-3" style="width: 100%;">CHANGE PASSWORD</button>
        </form>
    </div>
</div>

<style>
    /* Clean up default Django form inputs if they don't have our classes */
    input[type="password"] {
        width: 100%;
        background: rgba(255, 255, 255, 0.05); /* Dark theme */
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 10px 15px;
        color: var(--color-text);
        font-family: monospace;
        outline: none;
    }
    input[type="password"]:focus {
        border-color: var(--color-accent);
        box-shadow: 0 0 10px rgba(0, 255, 136, 0.2); 
    }
    /* Light theme override */
    body.light-mode input[type="password"] {
        background: #fff;
        border-color: #ddd;
        color: #000;
    }
</style>
{% endblock %}
