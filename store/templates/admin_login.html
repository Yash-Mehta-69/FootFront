{% extends 'base.html' %}
{% load static %}

{% block title %}Admin Access | FootFront{% endblock %}

{% block extra_css %}
<style>
    /* Minimal overrides for auth layout */
    .auth-container {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding-top: 150px;
        padding-bottom: 150px;
        position: relative;
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    @media (max-width: 576px) {
        .auth-glass-panel {
            padding: 1.5rem !important;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="glass-panel auth-glass-panel" style="width: 100%; max-width: 450px; position: relative; z-index: 2;">
        <div class="text-center mb-4">
            <h2 style="font-family: var(--font-heading); font-size: clamp(2rem, 10vw, 3rem); margin: 0; line-height: 1;">ADMIN</h2>
            <div style="width: 50px; height: 3px; background: #ccff00; margin: 0.5rem auto;"></div>
            <p style="color: #888; font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase;">Restricted Access</p>
        </div>
        
        <form method="POST" action="{% url 'admin_login' %}">
            {% csrf_token %}
            <div class="mb-3">
                <input type="text" class="tech-input" id="username" name="username" placeholder="USERNAME" required>
            </div>
            <div class="mb-4">
                <input type="password" class="tech-input" id="password" name="password" placeholder="PASSWORD" required>
            </div>
            
            <button type="submit" class="btn-primary" style="width: 100%;">SECURE LOGIN</button>
        </form>

        <div class="mt-4 text-center">
            <a href="{% url 'admin_forgot_password' %}" style="color: var(--color-text-muted); font-size: 0.8rem; text-decoration: none;">Forgot Credentials?</a>
        </div>
        
        <div style="text-align: center; margin-top: 2rem; color: #666; font-size: 0.8rem; font-family: monospace;">
            &copy; FOOTFRONT SYSTEM
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        if (typeof gsap !== 'undefined') {
            gsap.from(".glass-panel", { 
                y: 50,
                opacity: 0,
                duration: 1,
                ease: "power3.out"
            });
        }

        // Handle Server-Side Messages (Login Errors)
        {% if messages %}
            {% for message in messages %}
                if (typeof window.showGlobalError === 'function') {
                    let title = "SECURITY ALERT";
                    let tag = "{{ message.tags }}";
                    
                    if(tag.includes('error')) title = "ACCESS DENIED";
                    
                    window.showGlobalError(title, "{{ message|escapejs }}");
                } else {
                    alert("{{ message|escapejs }}");
                }
            {% endfor %}
        {% endif %}
    });
</script>
{% endblock %}