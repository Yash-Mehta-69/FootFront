{% extends 'dashboard/admin_base.html' %}

{% block title %}Customer Details | Admin Panel{% endblock %}

{% block header_title %}Customer Details{% endblock %}
{% block breadcrumb %}
<span class="breadcrumb-separator"><i class="fas fa-chevron-right"></i></span>
<a href="{% url 'manage_customers' %}" class="breadcrumb-item-custom">Manage Customers</a>
<span class="breadcrumb-separator"><i class="fas fa-chevron-right"></i></span>
<span class="breadcrumb-current">Customer Details</span>
{% endblock %}

{% block admin_content %}
<div class="row">
    <div class="col-lg-6 mx-auto">
        <div class="custom-card">
            <div class="card-header-custom d-flex justify-content-between align-items-center">
                <h5 class="card-title-custom mb-0">Customer Information</h5>
                <span class="status-badge {% if customer.is_blocked %}status-inactive{% else %}status-active{% endif %}">
                    {% if customer.is_blocked %}Blocked{% else %}Active{% endif %}
                </span>
            </div>
            <div class="card-body">
                <div class="text-center mb-4">
                    <div class="user-avatar mx-auto mb-3" style="width: 100px; height: 100px; font-size: 36px;">
                        {{ customer.user.first_name|slice:":1" }}
                    </div>
                    <h4>{{ customer.user.first_name }} {{ customer.user.last_name }}</h4>
                    <p class="text-muted">{{ customer.user.email }}</p>
                </div>
                
                <hr>
                
                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="text-muted small d-block">Phone Number</label>
                        <span class="fw-bold">{{ customer.phone }}</span>
                    </div>
                    <div class="col-md-6">
                        <label class="text-muted small d-block">Joined Date</label>
                        <span class="fw-bold">{{ customer.user.date_joined|date:"M d, Y" }}</span>
                    </div>
                    {% if customer.firebase_uid %}
                    <div class="col-12 mt-3">
                        <label class="text-muted small d-block">Firebase UID</label>
                        <span class="fw-bold text-primary-custom" style="word-break: break-all;">{{ customer.firebase_uid }}</span>
                    </div>
                    {% endif %}
                </div>

                <div class="mt-4 text-center">
                    <a href="{% url 'manage_customers' %}" class="btn-back me-2">
                        <i class="fas fa-arrow-left"></i> Back to Customers
                    </a>
                    <a href="{% url 'edit_customer' customer.pk %}" class="btn btn-primary-custom">Edit Customer</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
